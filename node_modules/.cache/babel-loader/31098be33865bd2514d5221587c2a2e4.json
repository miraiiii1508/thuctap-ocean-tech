{"ast":null,"code":"import _objectSpread from \"D:\\\\ThucTap\\\\ThucTap\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\ThucTap\\\\ThucTap\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\ThucTap\\\\ThucTap\\\\client\\\\src\\\\app\\\\views\\\\Staff\\\\CertificateDialog.jsx\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, Grid, IconButton, MenuItem, makeStyles } from \"@material-ui/core\";\nimport { ValidatorForm, TextValidator, SelectValidator } from \"react-material-ui-form-validator\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\nimport { toast } from \"react-toastify\";\nimport { useTranslation } from \"react-i18next\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { DatePicker } from \"@mui/lab\"; // Sử dụng DatePicker từ @mui/lab\n\ntoast.configure({\n  autoClose: 1000,\n  draggable: false,\n  limit: 3\n});\nvar useStyles = makeStyles({\n  colorStyle: {\n    color: \"red\"\n  },\n  iconClose: {\n    position: \"absolute\",\n    right: 8,\n    top: 8\n  }\n});\n\nvar CertificateDialog = function CertificateDialog(_ref) {\n  var openDialog = _ref.openDialog,\n      certificate = _ref.certificate,\n      handleCloseCertificateDialog = _ref.handleCloseCertificateDialog,\n      handleAddCertificate = _ref.handleAddCertificate,\n      handleUpdateCertificate = _ref.handleUpdateCertificate;\n  var classes = useStyles();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var _useState = useState({\n    id: \"\",\n    name: \"\",\n    code: \"\",\n    effectiveDate: null,\n    // Đổi effectiveDate thành null để DatePicker không hiển thị ngày không hợp lệ ban đầu\n    expirationDate: null,\n    // Đổi expirationDate thành null để DatePicker không hiển thị ngày không hợp lệ ban đầu\n    provinceId: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      certificateFormData = _useState2[0],\n      setCertificateFormData = _useState2[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.provinces;\n  }),\n      provinces = _useSelector.provinces;\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formData = _useState4[0],\n      setFormData = _useState4[1];\n\n  useEffect(function () {\n    setCertificateFormData(certificate);\n\n    if (certificate && certificate.id) {\n      setFormData(\"UPDATE\");\n    } else {\n      setFormData(\"ADD\");\n    }\n  }, [certificate]);\n\n  var handleClose = function handleClose() {\n    handleCloseCertificateDialog();\n  };\n\n  var handleChange = function handleChange(event) {\n    var _event$target = event.target,\n        name = _event$target.name,\n        value = _event$target.value;\n    setCertificateFormData(_objectSpread(_objectSpread({}, certificateFormData), {}, {\n      [name]: value\n    }));\n  };\n\n  var handleDateChange = function handleDateChange(date, name) {\n    setCertificateFormData(_objectSpread(_objectSpread({}, certificateFormData), {}, {\n      [name]: date\n    }));\n  };\n\n  var handleSubmit = function handleSubmit() {\n    switch (formData) {\n      case \"ADD\":\n        handleAddCertificate(certificateFormData);\n        toast.success(\"Thêm chứng chỉ thành công\");\n        break;\n\n      case \"UPDATE\":\n        handleUpdateCertificate(certificateFormData);\n        toast.success(\"Sửa chứng chỉ thành công\");\n        break;\n\n      default:\n        break;\n    }\n\n    handleClose();\n  };\n\n  var formatDate = function formatDate(date) {\n    if (!date) return \"\"; // Nếu date không có thì trả về chuỗi rỗng\n\n    var day = date.getDate().toString().padStart(2, \"0\");\n    var month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    var year = date.getFullYear();\n    return \"\".concat(day, \"-\").concat(month, \"-\").concat(year);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: openDialog,\n    \"aria-labelledby\": \"form-dialog-title\",\n    onClose: handleClose,\n    maxWidth: \"md\",\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"mb-20 styleColor\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, ((certificate === null || certificate === void 0 ? void 0 : certificate.id) ? t(\"general.update\") : t(\"Add\")) + \" \" + t(\"Chứng chỉ\")), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    className: classes.iconClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CloseIcon, {\n    color: \"error\",\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ValidatorForm, {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContent, {\n    dividers: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    className: \"mb-8\",\n    container: true,\n    spacing: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 6,\n    md: 6,\n    sm: 12,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextValidator, {\n    className: \"w-100 mb-16\",\n    name: \"code\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.colorStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 23\n      }\n    }, \" * \"), \"M\\xE3 ch\\u1EE9ng ch\\u1EC9\"),\n    value: certificateFormData.code || \"\",\n    onChange: handleChange,\n    fullWidth: true,\n    validators: [\"required\", \"matchRegexp:^.{6,10}$\"],\n    errorMessages: [\"Mã chứng chỉ không được để trống!\", \"Mã chứng chỉ phải từ 6 đến 10 ký tự!\"],\n    placeholder: \"Nh\\u1EADp m\\xE3\",\n    variant: \"outlined\",\n    size: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextValidator, {\n    className: \"w-100 mb-16\",\n    name: \"name\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.colorStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 23\n      }\n    }, \" * \"), \"T\\xEAn ch\\u1EE9ng ch\\u1EC9\"),\n    value: certificateFormData.name || \"\",\n    onChange: handleChange,\n    fullWidth: true,\n    validators: [\"required\"],\n    errorMessages: [\"Tên chứng chỉ không được để trống !\"],\n    placeholder: \"Nh\\u1EADp H\\u1ECD v\\xE0 t\\xEAn\",\n    variant: \"outlined\",\n    size: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    lg: 6,\n    md: 6,\n    sm: 12,\n    xs: 12,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    className: \"w-100 mb-10\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.colorStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, \" * \"), \"Ngày cấp chứng chỉ\"),\n    value: certificateFormData.effectiveDate,\n    onChange: function onChange(date) {\n      return handleDateChange(date, \"effectiveDate\");\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextValidator, Object.assign({}, params, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 46\n        }\n      }));\n    },\n    inputFormat: \"dd-MM-yyyy\",\n    validators: [\"required\"],\n    errorMessages: [\"Vui lòng nhập ngày cấp !\"],\n    fullWidth: true,\n    variant: \"outlined\",\n    size: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(DatePicker, {\n    className: \"w-100 mb-16\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.colorStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 25\n      }\n    }, \" * \"), \"Ngày hết hạn chứng chỉ\"),\n    value: certificateFormData.expirationDate,\n    onChange: function onChange(date) {\n      return handleDateChange(date, \"expirationDate\");\n    },\n    renderInput: function renderInput(params) {\n      return /*#__PURE__*/React.createElement(TextValidator, Object.assign({}, params, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 46\n        }\n      }));\n    },\n    inputFormat: \"dd-MM-yyyy\",\n    validators: [\"required\"],\n    errorMessages: [\"Vui lòng nhập ngày hết hạn !\"],\n    fullWidth: true,\n    variant: \"outlined\",\n    size: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(SelectValidator, {\n    name: \"provinceId\",\n    value: certificateFormData.provinceId || \"\",\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.colorStyle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 25\n      }\n    }, \" * \"), \"T\\u1EC9nh/Th\\xE0nh ph\\u1ED1\"),\n    onChange: handleChange,\n    validators: [\"required\"],\n    errorMessages: [\"Tỉnh/Thành phố không được để trống\"],\n    className: \"w-100\",\n    variant: \"outlined\",\n    size: \"small\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 19\n    }\n  }, provinces.map(function (item) {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      key: item.id,\n      value: item.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 23\n      }\n    }, item.name);\n  })))))), /*#__PURE__*/React.createElement(DialogActions, {\n    spacing: 4,\n    style: {\n      justifyContent: \"center\"\n    },\n    className: \"flex flex-end flex-middle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    onClick: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, \"H\\u1EE7y\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    variant: \"contained\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }, (certificate === null || certificate === void 0 ? void 0 : certificate.id) ? t(\"general.update\") : t(\"general.save\"))))));\n};\n\nexport default CertificateDialog;","map":{"version":3,"sources":["D:/ThucTap/ThucTap/client/src/app/views/Staff/CertificateDialog.jsx"],"names":["React","useEffect","useState","Button","Dialog","DialogActions","DialogContent","DialogTitle","FormControl","Grid","IconButton","MenuItem","makeStyles","ValidatorForm","TextValidator","SelectValidator","useDispatch","useSelector","Close","CloseIcon","toast","useTranslation","DatePicker","configure","autoClose","draggable","limit","useStyles","colorStyle","color","iconClose","position","right","top","CertificateDialog","openDialog","certificate","handleCloseCertificateDialog","handleAddCertificate","handleUpdateCertificate","classes","t","id","name","code","effectiveDate","expirationDate","provinceId","certificateFormData","setCertificateFormData","state","provinces","formData","setFormData","handleClose","handleChange","event","target","value","handleDateChange","date","handleSubmit","success","formatDate","day","getDate","toString","padStart","month","getMonth","year","getFullYear","params","map","item","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  ValidatorForm,\r\n  TextValidator,\r\n  SelectValidator,\r\n} from \"react-material-ui-form-validator\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Close as CloseIcon } from \"@material-ui/icons\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { DatePicker } from \"@mui/lab\"; // Sử dụng DatePicker từ @mui/lab\r\n\r\ntoast.configure({\r\n  autoClose: 1000,\r\n  draggable: false,\r\n  limit: 3,\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  colorStyle: {\r\n    color: \"red\",\r\n  },\r\n  iconClose: {\r\n    position: \"absolute\",\r\n    right: 8,\r\n    top: 8,\r\n  },\r\n});\r\n\r\nconst CertificateDialog = ({\r\n  openDialog,\r\n  certificate,\r\n  handleCloseCertificateDialog,\r\n  handleAddCertificate,\r\n  handleUpdateCertificate,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { t } = useTranslation();\r\n\r\n  const [certificateFormData, setCertificateFormData] = useState({\r\n    id: \"\",\r\n    name: \"\",\r\n    code: \"\",\r\n    effectiveDate: null, // Đổi effectiveDate thành null để DatePicker không hiển thị ngày không hợp lệ ban đầu\r\n    expirationDate: null, // Đổi expirationDate thành null để DatePicker không hiển thị ngày không hợp lệ ban đầu\r\n    provinceId: \"\",\r\n  });\r\n\r\n  const { provinces } = useSelector((state) => state.provinces);\r\n  const [formData, setFormData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setCertificateFormData(certificate);\r\n    if (certificate && certificate.id) {\r\n      setFormData(\"UPDATE\");\r\n    } else {\r\n      setFormData(\"ADD\");\r\n    }\r\n  }, [certificate]);\r\n\r\n  const handleClose = () => {\r\n    handleCloseCertificateDialog();\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setCertificateFormData({\r\n      ...certificateFormData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleDateChange = (date, name) => {\r\n    setCertificateFormData({\r\n      ...certificateFormData,\r\n      [name]: date,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    switch (formData) {\r\n      case \"ADD\":\r\n        handleAddCertificate(certificateFormData);\r\n        toast.success(\"Thêm chứng chỉ thành công\");\r\n        break;\r\n      case \"UPDATE\":\r\n        handleUpdateCertificate(certificateFormData);\r\n        toast.success(\"Sửa chứng chỉ thành công\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    handleClose();\r\n  };\r\n\r\n  const formatDate = (date) => {\r\n    if (!date) return \"\"; // Nếu date không có thì trả về chuỗi rỗng\r\n\r\n    const day = date.getDate().toString().padStart(2, \"0\");\r\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\r\n    const year = date.getFullYear();\r\n\r\n    return `${day}-${month}-${year}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={openDialog}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        onClose={handleClose}\r\n        maxWidth=\"md\"\r\n        fullWidth={true}\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          <span className=\"mb-20 styleColor\">\r\n            {(certificate?.id ? t(\"general.update\") : t(\"Add\")) +\r\n              \" \" +\r\n              t(\"Chứng chỉ\")}\r\n          </span>\r\n          <IconButton aria-label=\"close\" className={classes.iconClose}>\r\n            <CloseIcon color=\"error\" onClick={handleClose} />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <ValidatorForm onSubmit={handleSubmit}>\r\n          <DialogContent dividers>\r\n            <Grid className=\"mb-8\" container spacing={1}>\r\n              <Grid item lg={6} md={6} sm={12} xs={12}>\r\n                <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  name=\"code\"\r\n                  label={\r\n                    <span>\r\n                      <span className={classes.colorStyle}> * </span>\r\n                      Mã chứng chỉ\r\n                    </span>\r\n                  }\r\n                  value={certificateFormData.code || \"\"}\r\n                  onChange={handleChange}\r\n                  fullWidth\r\n                  validators={[\"required\", \"matchRegexp:^.{6,10}$\"]}\r\n                  errorMessages={[\r\n                    \"Mã chứng chỉ không được để trống!\",\r\n                    \"Mã chứng chỉ phải từ 6 đến 10 ký tự!\",\r\n                  ]}\r\n                  placeholder=\"Nhập mã\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <TextValidator\r\n                  className=\"w-100 mb-16\"\r\n                  name=\"name\"\r\n                  label={\r\n                    <span>\r\n                      <span className={classes.colorStyle}> * </span>\r\n                      Tên chứng chỉ\r\n                    </span>\r\n                  }\r\n                  value={certificateFormData.name || \"\"}\r\n                  onChange={handleChange}\r\n                  fullWidth\r\n                  validators={[\"required\"]}\r\n                  errorMessages={[\"Tên chứng chỉ không được để trống !\"]}\r\n                  placeholder=\"Nhập Họ và tên\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                />\r\n              </Grid>\r\n              <Grid item lg={6} md={6} sm={12} xs={12}>\r\n                <FormControl fullWidth>\r\n                  <DatePicker\r\n                    className=\"w-100 mb-10\"\r\n                    label={\r\n                      <span>\r\n                        <span className={classes.colorStyle}> * </span>\r\n                        {\"Ngày cấp chứng chỉ\"}\r\n                      </span>\r\n                    }\r\n                    value={certificateFormData.effectiveDate}\r\n                    onChange={(date) => handleDateChange(date, \"effectiveDate\")}\r\n                    renderInput={(params) => <TextValidator {...params} />}\r\n                    inputFormat=\"dd-MM-yyyy\"\r\n                    validators={[\"required\"]}\r\n                    errorMessages={[\"Vui lòng nhập ngày cấp !\"]}\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <FormControl fullWidth>\r\n                  <DatePicker\r\n                    className=\"w-100 mb-16\"\r\n                    label={\r\n                      <span>\r\n                        <span className={classes.colorStyle}> * </span>\r\n                        {\"Ngày hết hạn chứng chỉ\"}\r\n                      </span>\r\n                    }\r\n                    value={certificateFormData.expirationDate}\r\n                    onChange={(date) =>\r\n                      handleDateChange(date, \"expirationDate\")\r\n                    }\r\n                    renderInput={(params) => <TextValidator {...params} />}\r\n                    inputFormat=\"dd-MM-yyyy\"\r\n                    validators={[\"required\"]}\r\n                    errorMessages={[\"Vui lòng nhập ngày hết hạn !\"]}\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <FormControl fullWidth>\r\n                  <SelectValidator\r\n                    name=\"provinceId\"\r\n                    value={certificateFormData.provinceId || \"\"}\r\n                    label={\r\n                      <span>\r\n                        <span className={classes.colorStyle}> * </span>\r\n                        Tỉnh/Thành phố\r\n                      </span>\r\n                    }\r\n                    onChange={handleChange}\r\n                    validators={[\"required\"]}\r\n                    errorMessages={[\"Tỉnh/Thành phố không được để trống\"]}\r\n                    className=\"w-100\"\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                  >\r\n                    {provinces.map((item) => (\r\n                      <MenuItem key={item.id} value={item.id}>\r\n                        {item.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </SelectValidator>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions\r\n            spacing={4}\r\n            style={{ justifyContent: \"center\" }}\r\n            className=\"flex flex-end flex-middle\"\r\n          >\r\n            <Button variant=\"contained\" color=\"secondary\" onClick={handleClose}>\r\n              Hủy\r\n            </Button>\r\n            <Button type=\"submit\" color=\"primary\" variant=\"contained\">\r\n              {certificate?.id ? t(\"general.update\") : t(\"general.save\")}\r\n            </Button>\r\n          </DialogActions>\r\n        </ValidatorForm>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CertificateDialog;\r\n"]},"metadata":{},"sourceType":"module"}